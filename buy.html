<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Place Your Order - Build Shop</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Roboto', sans-serif;
    background: #f0f2f5;
    margin: 0;
    padding: 0;
    color: #2d3436;
  }

  h2 {
    text-align: center;
    margin: 30px 0;
    color: #0984e3;
    font-size: 2rem;
  }

  form {
    max-width: 650px;
    margin: 0 auto 50px auto;
    background: #fff;
    padding: 35px 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    position: relative;
  }

  .form-group {
    position: relative;
    margin-bottom: 20px;
  }

  label {
    position: absolute;
    top: 12px;
    left: 12px;
    font-weight: 500;
    color: #636e72;
    pointer-events: none;
    transition: 0.2s all;
    background: #fff;
    padding: 0 4px;
  }

  input, textarea {
    width: 100%;
    padding: 14px 12px;
    border-radius: 10px;
    border: 1px solid #dfe6e9;
    font-size: 16px;
    box-sizing: border-box;
    outline: none;
  }

  input:focus, textarea:focus {
    border-color: #0984e3;
    box-shadow: 0 0 5px rgba(9,132,227,0.3);
  }

  input:focus + label, input:not(:placeholder-shown) + label,
  textarea:focus + label, textarea:not(:placeholder-shown) + label {
    top: -10px;
    left: 10px;
    font-size: 0.85rem;
    color: #0984e3;
  }

  textarea {
    resize: vertical;
    min-height: 80px;
  }

  button {
    width: 100%;
    padding: 14px;
    background: #00b894;
    color: #fff;
    font-size: 16px;
    font-weight: 700;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s all;
  }

  button:hover {
    background: #019875;
    transform: scale(1.02);
  }

  /* Toast */
  .toast {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #00b894;
    color: #fff;
    padding: 12px 25px;
    border-radius: 8px;
    font-weight: 500;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s;
    z-index: 2000;
  }

  .toast.show {
    opacity: 1;
  }

  /* Responsive */
  @media(max-width:500px){
    form { padding: 25px 20px; }
  }
</style>
</head>
<body>

<h2>Place Your Order</h2>

<form id="buyForm">
  <div class="form-group">
    <input type="text" id="product" readonly placeholder=" "/>
    <label>Product</label>
  </div>
  <div class="form-group">
    <input type="text" id="price" readonly placeholder=" "/>
    <label>Price</label>
  </div>
  <div class="form-group">
    <input type="text" id="buyerName" placeholder=" " required />
    <label>Buyer Name</label>
  </div>
  <div class="form-group">
    <input type="tel" id="buyerContact" placeholder=" " required pattern="[0-9]{10}" />
    <label>Contact</label>
  </div>
  <div class="form-group">
    <input type="tel" id="buyerAltContact" placeholder=" " />
    <label>Alternate Contact</label>
  </div>
  <div class="form-group">
    <input type="email" id="buyerEmail" placeholder=" " required />
    <label>Email</label>
  </div>
  <div class="form-group">
    <textarea id="buyerAddress" placeholder=" " required></textarea>
    <label>Delivery Address</label>
  </div>
  <div class="form-group">
    <input type="number" id="buyerQty" placeholder=" " required min="1" />
    <label>Quantity</label>
  </div>
  <button type="submit">Place Order</button>
</form>

<div class="toast" id="toast">Order submitted successfully!</div>

<script>
const form = document.getElementById("buyForm");
const toast = document.getElementById("toast");
const params = new URLSearchParams(window.location.search);

const product = decodeURIComponent(params.get('product') || '');
const price = decodeURIComponent(params.get('price') || '');
const seller = params.get('seller') || '';

document.getElementById('product').value = product;
document.getElementById('price').value = price;

form.addEventListener("submit", function(e){
  e.preventDefault();

  const buyerName = document.getElementById("buyerName").value.trim();
  const contact = document.getElementById("buyerContact").value.trim();
  const altContact = document.getElementById("buyerAltContact").value.trim();
  const email = document.getElementById("buyerEmail").value.trim();
  const address = document.getElementById("buyerAddress").value.trim();
  const quantity = document.getElementById("buyerQty").value.trim();

  if(!buyerName || !contact || !email || !address || !quantity){
    alert("Please fill in all required fields.");
    return;
  }

  const message = `New Order:
Product: ${product}
Price: ${price}
Quantity: ${quantity}
Buyer: ${buyerName}
Contact: ${contact}
Alt Contact: ${altContact}
Email: ${email}
Address: ${address}`;

  const phoneNumber = seller.startsWith("91") ? seller : "91"+seller;
  const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;

  // Show toast
  toast.classList.add("show");
  setTimeout(()=> toast.classList.remove("show"),3000);

  window.open(url, "_blank");
});
</script>

</body>
</html>
