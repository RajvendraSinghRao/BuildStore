<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buy Product - Build Shop</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f6fa; margin:0; padding:0; }
  h2 { text-align:center; margin:30px 0; color:#2d3436; }
  form { max-width:600px; margin:0 auto 50px auto; background:#fff; padding:30px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
  form div { margin-bottom:15px; }
  form label { font-weight:bold; display:block; margin-bottom:5px; color:#2d3436; }
  form input, form textarea { width:100%; padding:10px; border-radius:5px; border:1px solid #dfe6e9; font-size:16px; box-sizing:border-box; }
  form button { background:#0984e3; color:#fff; padding:12px; border:none; border-radius:5px; cursor:pointer; font-weight:bold; width:100%; font-size:16px; }
  form button:hover { background:#0652dd; }
</style>
</head>
<body>

<h2>Submit Your Order</h2>

<form id="buyForm">
  <div><label>Product</label><input type="text" id="product" readonly /></div>
  <div><label>Price</label><input type="text" id="price" readonly /></div>
  <div><label>Buyer Name</label><input type="text" id="buyerName" placeholder="Enter your name" required /></div>
  <div><label>Contact</label><input type="tel" id="buyerContact" placeholder="Mobile number" required pattern="[0-9]{10}" /></div>
  <div><label>Alternate Contact</label><input type="tel" id="buyerAltContact" placeholder="Alternate number" /></div>
  <div><label>Email</label><input type="email" id="buyerEmail" placeholder="Email" required /></div>
  <div><label>Delivery Address</label><textarea id="buyerAddress" placeholder="Delivery Address" required></textarea></div>
  <div><label>Quantity</label><input type="number" id="buyerQty" placeholder="Quantity" required min="1" /></div>
  <button type="submit">Place Order</button>
</form>

<script>
const form = document.getElementById("buyForm");
const params = new URLSearchParams(window.location.search);

const product = decodeURIComponent(params.get('product') || '');
const price = decodeURIComponent(params.get('price') || '');
const seller = params.get('seller') || '';

document.getElementById('product').value = product;
document.getElementById('price').value = price;

form.addEventListener("submit", function(e){
  e.preventDefault();

  const buyerName = document.getElementById("buyerName").value.trim();
  const contact = document.getElementById("buyerContact").value.trim();
  const altContact = document.getElementById("buyerAltContact").value.trim();
  const email = document.getElementById("buyerEmail").value.trim();
  const address = document.getElementById("buyerAddress").value.trim();
  const quantity = document.getElementById("buyerQty").value.trim();

  if(!buyerName || !contact || !email || !address || !quantity){
    alert("Please fill in all required fields.");
    return;
  }

  const message = `New Order:
Product: ${product}
Price: ${price}
Quantity: ${quantity}
Buyer: ${buyerName}
Contact: ${contact}
Alt Contact: ${altContact}
Email: ${email}
Address: ${address}`;

  const phoneNumber = seller.startsWith("91") ? seller : "91"+seller;
  const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;

  window.open(url, "_blank");
});
</script>

</body>
</html>
